{"ast":null,"code":"import _objectSpread from\"c:/Users/Neerush Buchi/Desktop/Neerush Folder/HMS/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import api from'../services/api';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManagePatients=()=>{const[patients,setPatients]=useState([]);const[loading,setLoading]=useState(false);const[form,setForm]=useState({fullName:'',age:'',gender:'Male',phone:'',email:'',address:'',bloodGroup:'',assignedDoctor:''});const[editingId,setEditingId]=useState(null);const{user,loading:authLoading}=useAuth();const[accessDenied,setAccessDenied]=useState(false);const[doctors,setDoctors]=useState([]);const fetchPatients=async()=>{try{setLoading(true);// If auth still loading, skip; we rely on effect dependency to re-run when user is ready\nif(authLoading){setLoading(false);return;}// ensure current user has rights client-side before calling\nif(!user||!['admin','doctor','staff'].includes(user.role)){setAccessDenied(true);setLoading(false);return;}// allowed\nsetAccessDenied(false);const res=await api.get('/patients');setPatients(res.data.data.patients);}catch(err){console.error('Fetch patients error:',err);// Show server response if available\nif(err.response){console.error('Response data:',err.response.data);if(err.response.status===403){alert('Access denied: you do not have permission to view patients.');}else{var _err$response$data;alert(((_err$response$data=err.response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Error fetching patients');}}else{alert('Network or client error fetching patients');}}finally{setLoading(false);}};const fetchDoctors=async()=>{try{const res=await api.get('/doctors');setDoctors(res.data.data.doctors||[]);}catch(err){console.error('Error fetching doctors for dropdown',err);}};useEffect(()=>{fetchPatients();fetchDoctors();},[user]);const handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const handleSubmit=async e=>{e.preventDefault();try{if(editingId){await api.patch(\"/patients/\".concat(editingId),form);setEditingId(null);}else{await api.post('/patients',form);}setForm({fullName:'',age:'',gender:'Male',phone:'',email:'',address:'',bloodGroup:'',assignedDoctor:''});fetchPatients();}catch(err){console.error(err);alert('Error saving patient');}};const handleEdit=p=>{var _p$contact,_p$user,_p$assignedDoctor;setEditingId(p._id);setForm({fullName:p.fullName,age:p.age,gender:p.gender,phone:((_p$contact=p.contact)===null||_p$contact===void 0?void 0:_p$contact.phone)||'',email:((_p$user=p.user)===null||_p$user===void 0?void 0:_p$user.email)||'',address:p.address||'',bloodGroup:p.bloodGroup||'',assignedDoctor:((_p$assignedDoctor=p.assignedDoctor)===null||_p$assignedDoctor===void 0?void 0:_p$assignedDoctor._id)||''});};const handleDelete=async id=>{if(!window.confirm('Delete this patient?'))return;try{await api.delete(\"/patients/\".concat(id));fetchPatients();}catch(err){console.error(err);alert('Error deleting patient');}};if(authLoading){return/*#__PURE__*/_jsxs(\"div\",{className:\"container admin-dashboard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-top\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Patients\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-compact\",children:/*#__PURE__*/_jsx(\"p\",{style:{padding:20},children:\"Loading...\"})})]});}if(accessDenied){return/*#__PURE__*/_jsxs(\"div\",{className:\"container admin-dashboard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-top\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Patients\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-compact\",children:/*#__PURE__*/_jsx(\"p\",{style:{padding:20},children:\"You do not have permission to view or manage patients.\"})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container admin-dashboard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-top\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Patients\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-main\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-compact\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Patients List\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"manage-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gender\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Contact\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Blood Group\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Doctor\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:patients.map(p=>{var _p$user2,_p$contact2,_p$assignedDoctor2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:p.fullName}),/*#__PURE__*/_jsx(\"td\",{children:p.age}),/*#__PURE__*/_jsx(\"td\",{children:p.gender}),/*#__PURE__*/_jsx(\"td\",{children:(_p$user2=p.user)===null||_p$user2===void 0?void 0:_p$user2.email}),/*#__PURE__*/_jsx(\"td\",{children:(_p$contact2=p.contact)===null||_p$contact2===void 0?void 0:_p$contact2.phone}),/*#__PURE__*/_jsx(\"td\",{children:p.address||'-'}),/*#__PURE__*/_jsx(\"td\",{children:p.bloodGroup||'-'}),/*#__PURE__*/_jsx(\"td\",{children:((_p$assignedDoctor2=p.assignedDoctor)===null||_p$assignedDoctor2===void 0?void 0:_p$assignedDoctor2.name)||'-'}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn view\",onClick:()=>handleEdit(p),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete\",onClick:()=>handleDelete(p._id),children:\"Delete\"})]})]},p._id);})})]})]})}),/*#__PURE__*/_jsxs(\"aside\",{className:\"card-compact profile-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:editingId?'Edit Patient':'Add Patient'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"fullName\",value:form.fullName,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"number\",name:\"age\",value:form.age,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gender\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",name:\"gender\",value:form.gender,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"phone\",value:form.phone,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"email\",value:form.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"address\",value:form.address,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Blood Group\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"bloodGroup\",value:form.bloodGroup,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Assigned Doctor\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",name:\"assignedDoctor\",value:form.assignedDoctor,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Unassigned\"}),doctors.map(d=>/*#__PURE__*/_jsxs(\"option\",{value:d._id,children:[d.name,\" (\",d.specialization,\")\"]},d._id))]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn\",type:\"submit\",children:[editingId?'Update':'Add',\" Patient\"]})]})]})]})]});};export default ManagePatients;","map":{"version":3,"names":["React","useEffect","useState","api","useAuth","jsx","_jsx","jsxs","_jsxs","ManagePatients","patients","setPatients","loading","setLoading","form","setForm","fullName","age","gender","phone","email","address","bloodGroup","assignedDoctor","editingId","setEditingId","user","authLoading","accessDenied","setAccessDenied","doctors","setDoctors","fetchPatients","includes","role","res","get","data","err","console","error","response","status","alert","_err$response$data","message","fetchDoctors","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","patch","concat","post","handleEdit","p","_p$contact","_p$user","_p$assignedDoctor","_id","contact","handleDelete","id","window","confirm","delete","className","children","style","padding","map","_p$user2","_p$contact2","_p$assignedDoctor2","onClick","onSubmit","onChange","required","type","d","specialization"],"sources":["c:/Users/Neerush Buchi/Desktop/Neerush Folder/HMS/frontend/src/pages/ManagePatients.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../services/api';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst ManagePatients = () => {\r\n  const [patients, setPatients] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [form, setForm] = useState({ fullName: '', age: '', gender: 'Male', phone: '', email: '', address: '', bloodGroup: '', assignedDoctor: '' });\r\n  const [editingId, setEditingId] = useState(null);\r\n  const { user, loading: authLoading } = useAuth();\r\n  const [accessDenied, setAccessDenied] = useState(false);\r\n  const [doctors, setDoctors] = useState([]);\r\n\r\n  const fetchPatients = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // If auth still loading, skip; we rely on effect dependency to re-run when user is ready\r\n      if (authLoading) {\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // ensure current user has rights client-side before calling\r\n      if (!user || !['admin', 'doctor', 'staff'].includes(user.role)) {\r\n        setAccessDenied(true);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // allowed\r\n      setAccessDenied(false);\r\n      const res = await api.get('/patients');\r\n      setPatients(res.data.data.patients);\r\n    } catch (err) {\r\n      console.error('Fetch patients error:', err);\r\n      // Show server response if available\r\n      if (err.response) {\r\n        console.error('Response data:', err.response.data);\r\n        if (err.response.status === 403) {\r\n          alert('Access denied: you do not have permission to view patients.');\r\n        } else {\r\n          alert(err.response.data?.message || 'Error fetching patients');\r\n        }\r\n      } else {\r\n        alert('Network or client error fetching patients');\r\n      }\r\n    } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchDoctors = async () => {\r\n    try {\r\n      const res = await api.get('/doctors');\r\n      setDoctors(res.data.data.doctors || []);\r\n    } catch (err) {\r\n      console.error('Error fetching doctors for dropdown', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => { fetchPatients(); fetchDoctors(); }, [user]);\r\n\r\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (editingId) {\r\n        await api.patch(`/patients/${editingId}`, form);\r\n        setEditingId(null);\r\n      } else {\r\n        await api.post('/patients', form);\r\n      }\r\n      setForm({ fullName: '', age: '', gender: 'Male', phone: '', email: '', address: '', bloodGroup: '', assignedDoctor: '' });\r\n      fetchPatients();\r\n    } catch (err) { console.error(err); alert('Error saving patient'); }\r\n  };\r\n\r\n  const handleEdit = (p) => {\r\n    setEditingId(p._id);\r\n    setForm({\r\n      fullName: p.fullName,\r\n      age: p.age,\r\n      gender: p.gender,\r\n      phone: p.contact?.phone || '',\r\n      email: p.user?.email || '',\r\n      address: p.address || '',\r\n      bloodGroup: p.bloodGroup || '',\r\n      assignedDoctor: p.assignedDoctor?._id || ''\r\n    });\r\n  };\r\n  const handleDelete = async (id) => { if (!window.confirm('Delete this patient?')) return; try { await api.delete(`/patients/${id}`); fetchPatients(); } catch (err) { console.error(err); alert('Error deleting patient'); } };\r\n\r\n  if (authLoading) {\r\n    return (\r\n      <div className=\"container admin-dashboard\">\r\n        <div className=\"admin-top\"><h2>Manage Patients</h2></div>\r\n        <div className=\"card-compact\"><p style={{ padding: 20 }}>Loading...</p></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (accessDenied) {\r\n    return (\r\n      <div className=\"container admin-dashboard\">\r\n        <div className=\"admin-top\"><h2>Manage Patients</h2></div>\r\n        <div className=\"card-compact\"><p style={{ padding: 20 }}>You do not have permission to view or manage patients.</p></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container admin-dashboard\">\r\n      <div className=\"admin-top\"><h2>Manage Patients</h2></div>\r\n      <div className=\"admin-main\">\r\n        <div>\r\n          <div className=\"card-compact\">\r\n            <h3>Patients List</h3>\r\n            {loading ? <p>Loading...</p> : (\r\n              <table className=\"manage-table\">\r\n                <thead><tr><th>Name</th><th>Age</th><th>Gender</th><th>Email</th><th>Contact</th><th>Address</th><th>Blood Group</th><th>Doctor</th><th>Actions</th></tr></thead>\r\n                <tbody>\r\n                  {patients.map(p => (\r\n                    <tr key={p._id}>\r\n                      <td>{p.fullName}</td>\r\n                      <td>{p.age}</td>\r\n                      <td>{p.gender}</td>\r\n                      <td>{p.user?.email}</td>\r\n                      <td>{p.contact?.phone}</td>\r\n                      <td>{p.address || '-'}</td>\r\n                      <td>{p.bloodGroup || '-'}</td>\r\n                      <td>{p.assignedDoctor?.name || '-'}</td>\r\n                      <td>\r\n                        <button className=\"action-btn view\" onClick={() => handleEdit(p)}>Edit</button>\r\n                        <button className=\"action-btn delete\" onClick={() => handleDelete(p._id)}>Delete</button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <aside className=\"card-compact profile-panel\">\r\n          <h3>{editingId ? 'Edit Patient' : 'Add Patient'}</h3>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\"><label>Full Name</label><input className=\"form-control\" name=\"fullName\" value={form.fullName} onChange={handleChange} required /></div>\r\n            <div className=\"form-group\"><label>Age</label><input className=\"form-control\" type=\"number\" name=\"age\" value={form.age} onChange={handleChange} /></div>\r\n            <div className=\"form-group\"><label>Gender</label><select className=\"form-control\" name=\"gender\" value={form.gender} onChange={handleChange}><option>Male</option><option>Female</option><option>Other</option></select></div>\r\n            <div className=\"form-group\"><label>Phone</label><input className=\"form-control\" name=\"phone\" value={form.phone} onChange={handleChange} /></div>\r\n            <div className=\"form-group\"><label>Email</label><input className=\"form-control\" name=\"email\" value={form.email} onChange={handleChange} /></div>\r\n            <div className=\"form-group\"><label>Address</label><input className=\"form-control\" name=\"address\" value={form.address} onChange={handleChange} /></div>\r\n            <div className=\"form-group\"><label>Blood Group</label><input className=\"form-control\" name=\"bloodGroup\" value={form.bloodGroup} onChange={handleChange} /></div>\r\n            <div className=\"form-group\"><label>Assigned Doctor</label>\r\n              <select className=\"form-control\" name=\"assignedDoctor\" value={form.assignedDoctor} onChange={handleChange}>\r\n                <option value=\"\">Unassigned</option>\r\n                {doctors.map(d => <option key={d._id} value={d._id}>{d.name} ({d.specialization})</option>)}\r\n              </select>\r\n            </div>\r\n            <button className=\"btn\" type=\"submit\">{editingId ? 'Update' : 'Add'} Patient</button>\r\n          </form>\r\n        </aside>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagePatients;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}