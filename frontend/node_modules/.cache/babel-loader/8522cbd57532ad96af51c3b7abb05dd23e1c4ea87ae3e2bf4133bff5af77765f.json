{"ast":null,"code":"import _objectSpread from\"C:/Users/Neerush Buchi/Desktop/Neerush Folder/HMS/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import api from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Invoice=_ref=>{var _appointment$doctor,_billData$doctor,_billData$patient,_appointment$doctor2,_billData$doctor2;let{billId,appointment,patient,amount}=_ref;const[billData,setBillData]=React.useState(null);const[loading,setLoading]=React.useState(true);React.useEffect(()=>{const fetchBillData=async()=>{try{const response=await api.get(\"/billing/\".concat(billId));if(response.data.status==='success'){setBillData(response.data.data.bill);}}catch(error){console.error('Error fetching bill data:',error);}finally{setLoading(false);}};if(billId){fetchBillData();}},[billId]);// Debug: log fetched bill and appointment props\nReact.useEffect(()=>{if(!loading&&billData){console.debug('Invoice debug - billData:',billData);console.debug('Invoice debug - appointment prop:',appointment);}},[loading,billData,appointment]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading invoice...\"});}if(!billData){return/*#__PURE__*/_jsx(\"div\",{children:\"Error loading invoice. Please try again.\"});}const styles={container:{maxWidth:'900px',margin:'0 auto',padding:'28px',backgroundColor:'#ffffff',borderRadius:'10px',boxShadow:'0 6px 18px rgba(0,0,0,0.08)',fontFamily:\"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial\",color:'#223'},header:{display:'flex',justifyContent:'space-between',alignItems:'start',marginBottom:'28px',borderBottom:'1px solid #e6e9ee',paddingBottom:'18px'},hospitalInfo:{flex:1},hospitalName:{fontSize:'20px',fontWeight:'700',color:'#0f3b66',marginBottom:'6px'},hospitalAddress:{color:'#666',fontSize:'14px',lineHeight:'1.4'},billInfo:{textAlign:'right',minWidth:'180px'},billNumber:{fontSize:'16px',fontWeight:'bold',color:'#2c3e50',marginBottom:'8px'},billDate:{color:'#666',fontSize:'14px'},patientInfo:{marginBottom:'28px'},infoBlock:{marginBottom:'20px'},label:{fontWeight:'bold',color:'#2c3e50',marginBottom:'4px'},value:{color:'#666'},table:{width:'100%',borderCollapse:'collapse',marginBottom:'30px'},th:{backgroundColor:'#f8f9fa',padding:'12px',textAlign:'left',borderBottom:'2px solid #dee2e6'},td:{padding:'12px',borderBottom:'1px solid #dee2e6'},totalRow:{fontWeight:'bold',backgroundColor:'#f8f9fa'},patientTitle:{fontSize:'16px',fontWeight:'600',color:'#0f3b66',marginBottom:'12px'},patientDetails:{display:'grid',gridTemplateColumns:'repeat(2, 1fr)',gap:'16px'},detailItem:{marginBottom:'8px'},label:{color:'#666',fontSize:'14px',marginBottom:'4px'},value:{color:'#2c3e50',fontSize:'14px',fontWeight:'500'},servicesTable:{width:'100%',marginBottom:'32px',borderCollapse:'collapse',borderRadius:6,overflow:'hidden'},tableHeader:{backgroundColor:'#f8f9fa',borderBottom:'2px solid #dee2e6'},th:{padding:'12px 16px',textAlign:'left',color:'#2c3e50',fontWeight:'600',fontSize:'14px'},td:{padding:'12px 16px',borderBottom:'1px solid #dee2e6',color:'#2c3e50',fontSize:'14px'},totalSection:{display:'flex',justifyContent:'flex-end',marginBottom:'32px'},totalTable:{width:'300px'},totalRow:{display:'flex',justifyContent:'space-between',padding:'8px 0',fontSize:'14px'},totalLabel:{color:'#666'},totalValue:{color:'#2c3e50',fontWeight:'500'},grandTotal:{borderTop:'2px solid #dee2e6',marginTop:'8px',paddingTop:'8px',fontSize:'16px',fontWeight:'bold'},footer:{textAlign:'center',color:'#6b7280',fontSize:'13px',marginTop:'28px',paddingTop:'16px',borderTop:'1px solid #eef2f6'},downloadButton:{backgroundColor:'#3498db',color:'#fff',border:'none',padding:'12px 24px',borderRadius:'4px',cursor:'pointer',fontSize:'14px',fontWeight:'500',transition:'background-color 0.2s',':hover':{backgroundColor:'#2980b9'}}};// Calculate tax components\nconst baseAmount=billData.totalAmount/1.18;const gstAmount=billData.totalAmount-baseAmount;const cgst=gstAmount/2;const sgst=gstAmount/2;// Derive safe display values for appointment-related fields\nconst docName=(appointment===null||appointment===void 0?void 0:(_appointment$doctor=appointment.doctor)===null||_appointment$doctor===void 0?void 0:_appointment$doctor.name)||(billData===null||billData===void 0?void 0:(_billData$doctor=billData.doctor)===null||_billData$doctor===void 0?void 0:_billData$doctor.name)||'Doctor';const deptDisplay=(appointment===null||appointment===void 0?void 0:appointment.department)||(billData===null||billData===void 0?void 0:billData.department)||'—';// Format appointment date/time safely. If appointment.date is invalid, fall back to bill created date or a dash.\nconst getFormattedApptDate=()=>{// preference order: appointment.date -> billData.createdAt\nconst rawDate=(appointment===null||appointment===void 0?void 0:appointment.date)||(billData===null||billData===void 0?void 0:billData.createdAt);if(!rawDate)return'—';// helper to handle various serialized date shapes\nconst parseRawDate=r=>{if(!r)return null;// Date object\nif(r instanceof Date)return r;// ISO string or numeric timestamp\nif(typeof r==='string'||typeof r==='number'){const d=new Date(r);if(!isNaN(d.getTime()))return d;}// MongoDB extended JSON: { $date: '2023-01-01T...' } or { $date: 169... }\nif(typeof r==='object'){if(r.$date)return new Date(r.$date);if(r.date)return new Date(r.date);// sometimes numbers are wrapped\nif(r.$numberLong){const n=Number(r.$numberLong);if(!isNaN(n))return new Date(n);}}return null;};const parsed=parseRawDate(rawDate);console.debug('Invoice debug - rawDate:',rawDate,'parsed:',parsed);if(!parsed){return billData!==null&&billData!==void 0&&billData.createdAt?new Date(billData.createdAt).toLocaleDateString():'—';}const timePart=(appointment===null||appointment===void 0?void 0:appointment.time)||(billData===null||billData===void 0?void 0:billData.time)||'';return timePart?\"\".concat(parsed.toLocaleDateString(),\" at \").concat(timePart):parsed.toLocaleDateString();};const apptDateDisplay=getFormattedApptDate();const purposeDisplay=(appointment===null||appointment===void 0?void 0:appointment.purpose)||'Consultation';const handleDownloadPDF=()=>{const printWindow=window.open('','_blank');if(printWindow){printWindow.document.write('<html><head><title>Invoice</title>');printWindow.document.write('<style>body{font-family: Arial, Helvetica, sans-serif; padding:20px; color:#222} .header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px} .hospital{font-weight:700;color:#0f3b66} .billInfo{text-align:right}</style>');printWindow.document.write('</head><body>');// copy the invoice HTML contained in this component\nconst root=document.querySelector('[data-invoice-root]');if(root){printWindow.document.write(root.innerHTML);}else{// fallback: render minimal invoice\nprintWindow.document.write(\"<div><h1>Invoice \".concat(billData.billId,\"</h1><p>Amount: \\u20B9\").concat(billData.totalAmount,\"</p></div>\"));}printWindow.document.write('</body></html>');printWindow.document.close();printWindow.focus();setTimeout(()=>{printWindow.print();printWindow.close();},500);}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,\"data-invoice-root\":true,children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'flex-end',marginBottom:12},children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleDownloadPDF,className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-download\"}),\" Download PDF\"]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.header,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.hospitalInfo,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.hospitalName,children:\"HMS Hospital\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.hospitalAddress,children:[\"123 Healthcare Avenue\",/*#__PURE__*/_jsx(\"br\",{}),\"Medical District, City - 123456\",/*#__PURE__*/_jsx(\"br\",{}),\"Phone: (123) 456-7890\",/*#__PURE__*/_jsx(\"br\",{}),\"Email: info@hmshospital.com\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.billInfo,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.billNumber,children:[\"Bill No: \",billData.billId]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.billDate,children:[\"Date: \",new Date(billData.createdAt).toLocaleDateString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.patientInfo,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.patientTitle,children:\"Patient Information\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.patientDetails,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.detailItem,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.label,children:\"Patient Name\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.value,children:((_billData$patient=billData.patient)===null||_billData$patient===void 0?void 0:_billData$patient.fullName)||(patient===null||patient===void 0?void 0:patient.fullName)||(patient===null||patient===void 0?void 0:patient.username)||'Patient'})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.detailItem,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.label,children:\"Doctor\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.value,children:(appointment===null||appointment===void 0?void 0:(_appointment$doctor2=appointment.doctor)===null||_appointment$doctor2===void 0?void 0:_appointment$doctor2.name)||(billData===null||billData===void 0?void 0:(_billData$doctor2=billData.doctor)===null||_billData$doctor2===void 0?void 0:_billData$doctor2.name)||'Doctor'})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.detailItem,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.label,children:\"Department\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.value,children:(appointment===null||appointment===void 0?void 0:appointment.department)||(billData===null||billData===void 0?void 0:billData.department)||'—'})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.detailItem,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.label,children:\"Appointment Date & Time\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.value,children:apptDateDisplay})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.detailItem,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.label,children:\"Purpose\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.value,children:purposeDisplay})]})]})]}),/*#__PURE__*/_jsxs(\"table\",{style:styles.servicesTable,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"GST\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:\"Consultation Fee\"}),/*#__PURE__*/_jsxs(\"td\",{style:styles.td,children:[\"\\u20B9\",baseAmount.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{style:styles.td,children:[\"\\u20B9\",gstAmount.toFixed(2),\" (18%)\"]}),/*#__PURE__*/_jsxs(\"td\",{style:styles.td,children:[\"\\u20B9\",billData.totalAmount.toFixed(2)]})]})})]}),/*#__PURE__*/_jsx(\"div\",{style:styles.totalSection,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.totalTable,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.totalRow,children:[/*#__PURE__*/_jsx(\"span\",{style:styles.totalLabel,children:\"Base Amount\"}),/*#__PURE__*/_jsxs(\"span\",{style:styles.totalValue,children:[\"\\u20B9\",baseAmount.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.totalRow,children:[/*#__PURE__*/_jsx(\"span\",{style:styles.totalLabel,children:\"CGST (9%)\"}),/*#__PURE__*/_jsxs(\"span\",{style:styles.totalValue,children:[\"\\u20B9\",cgst.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.totalRow,children:[/*#__PURE__*/_jsx(\"span\",{style:styles.totalLabel,children:\"SGST (9%)\"}),/*#__PURE__*/_jsxs(\"span\",{style:styles.totalValue,children:[\"\\u20B9\",sgst.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.totalRow),styles.grandTotal),children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Amount\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",billData.totalAmount.toFixed(2)]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.footer,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Payment Method: \",billData.paymentMode]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Payment Status: \",billData.paymentStatus]}),/*#__PURE__*/_jsx(\"p\",{children:\"Thank you for choosing HMS Hospital. For any queries, please contact our billing department.\"})]})]});};export default Invoice;","map":{"version":3,"names":["React","api","jsx","_jsx","jsxs","_jsxs","Invoice","_ref","_appointment$doctor","_billData$doctor","_billData$patient","_appointment$doctor2","_billData$doctor2","billId","appointment","patient","amount","billData","setBillData","useState","loading","setLoading","useEffect","fetchBillData","response","get","concat","data","status","bill","error","console","debug","children","styles","container","maxWidth","margin","padding","backgroundColor","borderRadius","boxShadow","fontFamily","color","header","display","justifyContent","alignItems","marginBottom","borderBottom","paddingBottom","hospitalInfo","flex","hospitalName","fontSize","fontWeight","hospitalAddress","lineHeight","billInfo","textAlign","minWidth","billNumber","billDate","patientInfo","infoBlock","label","value","table","width","borderCollapse","th","td","totalRow","patientTitle","patientDetails","gridTemplateColumns","gap","detailItem","servicesTable","overflow","tableHeader","totalSection","totalTable","totalLabel","totalValue","grandTotal","borderTop","marginTop","paddingTop","footer","downloadButton","border","cursor","transition","baseAmount","totalAmount","gstAmount","cgst","sgst","docName","doctor","name","deptDisplay","department","getFormattedApptDate","rawDate","date","createdAt","parseRawDate","r","Date","d","isNaN","getTime","$date","$numberLong","n","Number","parsed","toLocaleDateString","timePart","time","apptDateDisplay","purposeDisplay","purpose","handleDownloadPDF","printWindow","window","open","document","write","root","querySelector","innerHTML","close","focus","setTimeout","print","style","onClick","className","fullName","username","toFixed","_objectSpread","paymentMode","paymentStatus"],"sources":["C:/Users/Neerush Buchi/Desktop/Neerush Folder/HMS/frontend/src/pages/components/Invoice.js"],"sourcesContent":["import React from 'react';\r\nimport api from '../../services/api';\r\n\r\nconst Invoice = ({ billId, appointment, patient, amount }) => {\r\n  const [billData, setBillData] = React.useState(null);\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    const fetchBillData = async () => {\r\n      try {\r\n        const response = await api.get(`/billing/${billId}`);\r\n        if (response.data.status === 'success') {\r\n          setBillData(response.data.data.bill);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching bill data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (billId) {\r\n      fetchBillData();\r\n    }\r\n  }, [billId]);\r\n\r\n  // Debug: log fetched bill and appointment props\r\n  React.useEffect(() => {\r\n    if (!loading && billData) {\r\n      console.debug('Invoice debug - billData:', billData);\r\n      console.debug('Invoice debug - appointment prop:', appointment);\r\n    }\r\n  }, [loading, billData, appointment]);\r\n\r\n  if (loading) {\r\n    return <div>Loading invoice...</div>;\r\n  }\r\n\r\n  if (!billData) {\r\n    return <div>Error loading invoice. Please try again.</div>;\r\n  }\r\n\r\n  const styles = {\r\n    container: {\r\n      maxWidth: '900px',\r\n      margin: '0 auto',\r\n      padding: '28px',\r\n      backgroundColor: '#ffffff',\r\n      borderRadius: '10px',\r\n      boxShadow: '0 6px 18px rgba(0,0,0,0.08)',\r\n      fontFamily: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial\",\r\n      color: '#223'\r\n    },\r\n    header: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'start',\r\n      marginBottom: '28px',\r\n      borderBottom: '1px solid #e6e9ee',\r\n      paddingBottom: '18px',\r\n    },\r\n    hospitalInfo: {\r\n      flex: 1,\r\n    },\r\n    hospitalName: {\r\n      fontSize: '20px',\r\n      fontWeight: '700',\r\n      color: '#0f3b66',\r\n      marginBottom: '6px',\r\n    },\r\n    hospitalAddress: {\r\n      color: '#666',\r\n      fontSize: '14px',\r\n      lineHeight: '1.4',\r\n    },\r\n    billInfo: {\r\n      textAlign: 'right',\r\n      minWidth: '180px'\r\n    },\r\n    billNumber: {\r\n      fontSize: '16px',\r\n      fontWeight: 'bold',\r\n      color: '#2c3e50',\r\n      marginBottom: '8px',\r\n    },\r\n    billDate: {\r\n      color: '#666',\r\n      fontSize: '14px',\r\n    },\r\n    patientInfo: {\r\n      marginBottom: '28px',\r\n    },\r\n    infoBlock: {\r\n      marginBottom: '20px',\r\n    },\r\n    label: {\r\n      fontWeight: 'bold',\r\n      color: '#2c3e50',\r\n      marginBottom: '4px',\r\n    },\r\n    value: {\r\n      color: '#666',\r\n    },\r\n    table: {\r\n      width: '100%',\r\n      borderCollapse: 'collapse',\r\n      marginBottom: '30px',\r\n    },\r\n    th: {\r\n      backgroundColor: '#f8f9fa',\r\n      padding: '12px',\r\n      textAlign: 'left',\r\n      borderBottom: '2px solid #dee2e6',\r\n    },\r\n    td: {\r\n      padding: '12px',\r\n      borderBottom: '1px solid #dee2e6',\r\n    },\r\n    totalRow: {\r\n      fontWeight: 'bold',\r\n      backgroundColor: '#f8f9fa',\r\n    },\r\n    patientTitle: {\r\n      fontSize: '16px',\r\n      fontWeight: '600',\r\n      color: '#0f3b66',\r\n      marginBottom: '12px',\r\n    },\r\n    patientDetails: {\r\n      display: 'grid',\r\n      gridTemplateColumns: 'repeat(2, 1fr)',\r\n      gap: '16px',\r\n    },\r\n    detailItem: {\r\n      marginBottom: '8px',\r\n    },\r\n    label: {\r\n      color: '#666',\r\n      fontSize: '14px',\r\n      marginBottom: '4px',\r\n    },\r\n    value: {\r\n      color: '#2c3e50',\r\n      fontSize: '14px',\r\n      fontWeight: '500',\r\n    },\r\n    servicesTable: {\r\n      width: '100%',\r\n      marginBottom: '32px',\r\n      borderCollapse: 'collapse',\r\n      borderRadius: 6,\r\n      overflow: 'hidden'\r\n    },\r\n    tableHeader: {\r\n      backgroundColor: '#f8f9fa',\r\n      borderBottom: '2px solid #dee2e6',\r\n    },\r\n    th: {\r\n      padding: '12px 16px',\r\n      textAlign: 'left',\r\n      color: '#2c3e50',\r\n      fontWeight: '600',\r\n      fontSize: '14px',\r\n    },\r\n    td: {\r\n      padding: '12px 16px',\r\n      borderBottom: '1px solid #dee2e6',\r\n      color: '#2c3e50',\r\n      fontSize: '14px',\r\n    },\r\n    totalSection: {\r\n      display: 'flex',\r\n      justifyContent: 'flex-end',\r\n      marginBottom: '32px',\r\n    },\r\n    totalTable: {\r\n      width: '300px',\r\n    },\r\n    totalRow: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      padding: '8px 0',\r\n      fontSize: '14px',\r\n    },\r\n    totalLabel: {\r\n      color: '#666',\r\n    },\r\n    totalValue: {\r\n      color: '#2c3e50',\r\n      fontWeight: '500',\r\n    },\r\n    grandTotal: {\r\n      borderTop: '2px solid #dee2e6',\r\n      marginTop: '8px',\r\n      paddingTop: '8px',\r\n      fontSize: '16px',\r\n      fontWeight: 'bold',\r\n    },\r\n    footer: {\r\n      textAlign: 'center',\r\n      color: '#6b7280',\r\n      fontSize: '13px',\r\n      marginTop: '28px',\r\n      paddingTop: '16px',\r\n      borderTop: '1px solid #eef2f6',\r\n    },\r\n    downloadButton: {\r\n      backgroundColor: '#3498db',\r\n      color: '#fff',\r\n      border: 'none',\r\n      padding: '12px 24px',\r\n      borderRadius: '4px',\r\n      cursor: 'pointer',\r\n      fontSize: '14px',\r\n      fontWeight: '500',\r\n      transition: 'background-color 0.2s',\r\n      ':hover': {\r\n        backgroundColor: '#2980b9',\r\n      },\r\n    },\r\n  };\r\n\r\n  // Calculate tax components\r\n  const baseAmount = billData.totalAmount / 1.18;\r\n  const gstAmount = billData.totalAmount - baseAmount;\r\n  const cgst = gstAmount / 2;\r\n  const sgst = gstAmount / 2;\r\n\r\n  // Derive safe display values for appointment-related fields\r\n  const docName = appointment?.doctor?.name || billData?.doctor?.name || 'Doctor';\r\n  const deptDisplay = appointment?.department || billData?.department || '—';\r\n  // Format appointment date/time safely. If appointment.date is invalid, fall back to bill created date or a dash.\r\n  const getFormattedApptDate = () => {\r\n    // preference order: appointment.date -> billData.createdAt\r\n    const rawDate = appointment?.date || billData?.createdAt;\r\n    if (!rawDate) return '—';\r\n\r\n    // helper to handle various serialized date shapes\r\n    const parseRawDate = (r) => {\r\n      if (!r) return null;\r\n      // Date object\r\n      if (r instanceof Date) return r;\r\n      // ISO string or numeric timestamp\r\n      if (typeof r === 'string' || typeof r === 'number') {\r\n        const d = new Date(r);\r\n        if (!isNaN(d.getTime())) return d;\r\n      }\r\n      // MongoDB extended JSON: { $date: '2023-01-01T...' } or { $date: 169... }\r\n      if (typeof r === 'object') {\r\n        if (r.$date) return new Date(r.$date);\r\n        if (r.date) return new Date(r.date);\r\n        // sometimes numbers are wrapped\r\n        if (r.$numberLong) {\r\n          const n = Number(r.$numberLong);\r\n          if (!isNaN(n)) return new Date(n);\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n\r\n    const parsed = parseRawDate(rawDate);\r\n    console.debug('Invoice debug - rawDate:', rawDate, 'parsed:', parsed);\r\n\r\n    if (!parsed) {\r\n      return billData?.createdAt ? new Date(billData.createdAt).toLocaleDateString() : '—';\r\n    }\r\n\r\n    const timePart = appointment?.time || billData?.time || '';\r\n    return timePart ? `${parsed.toLocaleDateString()} at ${timePart}` : parsed.toLocaleDateString();\r\n  };\r\n\r\n  const apptDateDisplay = getFormattedApptDate();\r\n  const purposeDisplay = appointment?.purpose || 'Consultation';\r\n\r\n  const handleDownloadPDF = () => {\r\n    const printWindow = window.open('', '_blank');\r\n    if (printWindow) {\r\n      printWindow.document.write('<html><head><title>Invoice</title>');\r\n      printWindow.document.write('<style>body{font-family: Arial, Helvetica, sans-serif; padding:20px; color:#222} .header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px} .hospital{font-weight:700;color:#0f3b66} .billInfo{text-align:right}</style>');\r\n      printWindow.document.write('</head><body>');\r\n      // copy the invoice HTML contained in this component\r\n      const root = document.querySelector('[data-invoice-root]');\r\n      if (root) {\r\n        printWindow.document.write(root.innerHTML);\r\n      } else {\r\n        // fallback: render minimal invoice\r\n        printWindow.document.write(`<div><h1>Invoice ${billData.billId}</h1><p>Amount: ₹${billData.totalAmount}</p></div>`);\r\n      }\r\n      printWindow.document.write('</body></html>');\r\n      printWindow.document.close();\r\n      printWindow.focus();\r\n      setTimeout(() => {\r\n        printWindow.print();\r\n        printWindow.close();\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container} data-invoice-root>\r\n      <div style={{ display: 'flex', justifyContent: 'flex-end', marginBottom: 12 }}>\r\n        <button onClick={handleDownloadPDF} className=\"btn btn-primary\">\r\n          <i className=\"fas fa-download\"></i> Download PDF\r\n        </button>\r\n      </div>\r\n  <div style={styles.header}>\r\n        <div style={styles.hospitalInfo}>\r\n          <div style={styles.hospitalName}>HMS Hospital</div>\r\n          <div style={styles.hospitalAddress}>\r\n            123 Healthcare Avenue<br />\r\n            Medical District, City - 123456<br />\r\n            Phone: (123) 456-7890<br />\r\n            Email: info@hmshospital.com\r\n          </div>\r\n        </div>\r\n        <div style={styles.billInfo}>\r\n          <div style={styles.billNumber}>Bill No: {billData.billId}</div>\r\n          <div style={styles.billDate}>Date: {new Date(billData.createdAt).toLocaleDateString()}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={styles.patientInfo}>\r\n        <div style={styles.patientTitle}>Patient Information</div>\r\n        <div style={styles.patientDetails}>\r\n          <div style={styles.detailItem}>\r\n            <div style={styles.label}>Patient Name</div>\r\n            <div style={styles.value}>{billData.patient?.fullName || patient?.fullName || patient?.username || 'Patient'}</div>\r\n          </div>\r\n          <div style={styles.detailItem}>\r\n            <div style={styles.label}>Doctor</div>\r\n            <div style={styles.value}>{appointment?.doctor?.name || billData?.doctor?.name || 'Doctor'}</div>\r\n          </div>\r\n          <div style={styles.detailItem}>\r\n            <div style={styles.label}>Department</div>\r\n            <div style={styles.value}>{appointment?.department || billData?.department || '—'}</div>\r\n          </div>\r\n          <div style={styles.detailItem}>\r\n            <div style={styles.label}>Appointment Date & Time</div>\r\n            <div style={styles.value}>{apptDateDisplay}</div>\r\n          </div>\r\n          <div style={styles.detailItem}>\r\n            <div style={styles.label}>Purpose</div>\r\n            <div style={styles.value}>{purposeDisplay}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <table style={styles.servicesTable}>\r\n        <thead>\r\n          <tr>\r\n            <th style={styles.th}>Description</th>\r\n            <th style={styles.th}>Amount</th>\r\n            <th style={styles.th}>GST</th>\r\n            <th style={styles.th}>Total</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td style={styles.td}>Consultation Fee</td>\r\n            <td style={styles.td}>₹{baseAmount.toFixed(2)}</td>\r\n            <td style={styles.td}>₹{gstAmount.toFixed(2)} (18%)</td>\r\n            <td style={styles.td}>₹{billData.totalAmount.toFixed(2)}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <div style={styles.totalSection}>\r\n        <div style={styles.totalTable}>\r\n          <div style={styles.totalRow}>\r\n            <span style={styles.totalLabel}>Base Amount</span>\r\n            <span style={styles.totalValue}>₹{baseAmount.toFixed(2)}</span>\r\n          </div>\r\n          <div style={styles.totalRow}>\r\n            <span style={styles.totalLabel}>CGST (9%)</span>\r\n            <span style={styles.totalValue}>₹{cgst.toFixed(2)}</span>\r\n          </div>\r\n          <div style={styles.totalRow}>\r\n            <span style={styles.totalLabel}>SGST (9%)</span>\r\n            <span style={styles.totalValue}>₹{sgst.toFixed(2)}</span>\r\n          </div>\r\n          <div style={{...styles.totalRow, ...styles.grandTotal}}>\r\n            <span>Total Amount</span>\r\n            <span>₹{billData.totalAmount.toFixed(2)}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={styles.footer}>\r\n        <p>Payment Method: {billData.paymentMode}</p>\r\n        <p>Payment Status: {billData.paymentStatus}</p>\r\n        <p>Thank you for choosing HMS Hospital. For any queries, please contact our billing department.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Invoice;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}