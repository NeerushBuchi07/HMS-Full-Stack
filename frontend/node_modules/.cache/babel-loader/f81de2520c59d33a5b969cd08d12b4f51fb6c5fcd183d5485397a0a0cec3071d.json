{"ast":null,"code":"import _objectSpread from\"C:/Users/Neerush Buchi/Desktop/Neerush Folder/HMS/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../context/AuthContext';import{useNavigate}from'react-router-dom';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PatientDashboard=()=>{var _patient$contact,_patient$contact2,_patient$contact3,_patient$contact4;const{user,logout}=useAuth();const navigate=useNavigate();const[patient,setPatient]=useState(null);const[appointments,setAppointments]=useState([]);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('overview');useEffect(()=>{if(!user){navigate('/login');return;}fetchPatientData();fetchAppointments();},[user,navigate]);const fetchPatientData=async()=>{try{const response=await api.get('/patients/profile/me');setPatient(response.data.data.patient);}catch(error){console.error('Error fetching patient data:',error);}};const fetchAppointments=async()=>{try{const response=await api.get('/appointments/my-appointments');setAppointments(response.data.data.appointments);setLoading(false);}catch(error){console.error('Error fetching appointments:',error);setLoading(false);}};const handleLogout=()=>{logout();navigate('/');};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{weekday:'short',year:'numeric',month:'short',day:'numeric'});};// Create a Date object that represents the appointment's scheduled datetime\nconst getAppointmentDateTime=appointment=>{// appointment.date is usually an ISO date string (date-only or with time)\n// appointment.time is stored as a string (could be \"HH:MM\" or include AM/PM)\ntry{const datePart=new Date(appointment.date).toISOString().split('T')[0];// Try to construct an ISO-like datetime first (handles \"HH:MM\" or \"HH:MM:SS\")\nlet dt=new Date(\"\".concat(datePart,\"T\").concat(appointment.time));if(!isNaN(dt.getTime()))return dt;// Fallback: try combining with a space (handles formats like \"10:30 AM\")\ndt=new Date(\"\".concat(datePart,\" \").concat(appointment.time));if(!isNaN(dt.getTime()))return dt;// Final fallback: use the date only (midnight)\nreturn new Date(appointment.date);}catch(e){return new Date(appointment.date);}};const getUpcomingAppointments=()=>{const now=new Date();return appointments.map(apt=>_objectSpread(_objectSpread({},apt),{},{_appointmentDateTime:getAppointmentDateTime(apt)})).filter(apt=>apt._appointmentDateTime>now&&apt.status!=='Cancelled').sort((a,b)=>a._appointmentDateTime-b._appointmentDateTime).slice(0,3);};const getRecentAppointments=function(){let limit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:5;const now=new Date();return appointments.map(apt=>_objectSpread(_objectSpread({},apt),{},{_appointmentDateTime:getAppointmentDateTime(apt)})).filter(apt=>apt._appointmentDateTime<=now).sort((a,b)=>b._appointmentDateTime-a._appointmentDateTime).slice(0,limit);};const getStatusBadgeClass=status=>{switch(status){case'Confirmed':return'status-badge confirmed';case'Pending':return'status-badge pending';case'Completed':return'status-badge completed';case'Cancelled':return'status-badge cancelled';default:return'status-badge pending';}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin fa-2x\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading your dashboard...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome, \",/*#__PURE__*/_jsx(\"span\",{children:(patient===null||patient===void 0?void 0:patient.fullName)||(user===null||user===void 0?void 0:user.username)})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Here's your health dashboard and upcoming appointments\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn\",onClick:()=>navigate('/book-appointment'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-plus\"}),\" Book Appointment\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline ml-2\",onClick:()=>navigate('/billing'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-invoice-dollar\"}),\" View Bills\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-sections\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"section-btn \".concat(activeTab==='overview'?'active':''),onClick:()=>setActiveTab('overview'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-home\"}),\" Overview\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"section-btn \".concat(activeTab==='appointments'?'active':''),onClick:()=>setActiveTab('appointments'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-alt\"}),\" Appointments\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"section-btn \".concat(activeTab==='profile'?'active':''),onClick:()=>setActiveTab('profile'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),\" Profile\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[activeTab==='overview'&&/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-section active\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-check\"}),\" Upcoming Appointments\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"appointment-list\",children:getUpcomingAppointments().length>0?getUpcomingAppointments().map(appointment=>{var _appointment$doctor,_appointment$doctor2;return/*#__PURE__*/_jsxs(\"div\",{className:\"appointment-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"appointment-time\",children:[formatDate(appointment.date),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:appointment.time})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"appointment-details\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Dr. \",(_appointment$doctor=appointment.doctor)===null||_appointment$doctor===void 0?void 0:_appointment$doctor.name]}),/*#__PURE__*/_jsx(\"p\",{children:(_appointment$doctor2=appointment.doctor)===null||_appointment$doctor2===void 0?void 0:_appointment$doctor2.specialization}),/*#__PURE__*/_jsx(\"p\",{className:\"appointment-purpose\",children:appointment.purpose}),/*#__PURE__*/_jsx(\"span\",{className:getStatusBadgeClass(appointment.status),children:appointment.status})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline btn-sm\",children:\"View Details\"})]},appointment._id);}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-appointments\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-times\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No upcoming appointments\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm\",onClick:()=>navigate('/book-appointment'),children:\"Book Your First Appointment\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-injured\"}),\" Patient Information\"]}),patient&&/*#__PURE__*/_jsxs(\"div\",{className:\"patient-info-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Patient ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:patient.patientId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Full Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:patient.fullName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Age:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-value\",children:[patient.age,\" years\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Gender:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:patient.gender})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Blood Group:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:patient.bloodGroup||'Not specified'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Phone:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:(_patient$contact=patient.contact)===null||_patient$contact===void 0?void 0:_patient$contact.phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:(_patient$contact2=patient.contact)===null||_patient$contact2===void 0?void 0:_patient$contact2.email})]}),patient.address&&/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Address:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-value\",children:[patient.address.street,\", \",patient.address.city,\", \",patient.address.state,\" \",patient.address.zipCode]})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline mt-3\",onClick:()=>setActiveTab('profile'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"}),\" Update Profile\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bolt\"}),\" Quick Actions\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-actions-grid\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn\",onClick:()=>navigate('/book-appointment'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-plus\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Book Appointment\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn\",onClick:()=>navigate('/billing'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-invoice\"}),/*#__PURE__*/_jsx(\"span\",{children:\"View Bills\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn\",onClick:()=>setActiveTab('profile'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-edit\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Update Profile\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn\",onClick:()=>window.print(),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-print\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Print Records\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-history\"}),\" Recent Activity\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"activity-list\",children:getRecentAppointments().length>0?getRecentAppointments().map(appointment=>{var _appointment$doctor3;return/*#__PURE__*/_jsxs(\"div\",{className:\"activity-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"activity-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"activity-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:appointment.purpose}),\" with Dr. \",(_appointment$doctor3=appointment.doctor)===null||_appointment$doctor3===void 0?void 0:_appointment$doctor3.name]}),/*#__PURE__*/_jsxs(\"small\",{children:[formatDate(appointment._appointmentDateTime||appointment.date),\" at \",appointment.time,\" \\u2022\",/*#__PURE__*/_jsx(\"span\",{className:getStatusBadgeClass(appointment.status),children:appointment.status})]})]})]},appointment._id);}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-activity\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clock\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No recent activity\"})]})})]})]})}),activeTab==='appointments'&&/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-section active\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Appointments\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn\",onClick:()=>navigate('/book-appointment'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" New Appointment\"]})]}),appointments.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"appointments-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Date & Time\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Doctor\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Purpose\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Actions\"})]}),appointments.map(appointment=>{var _appointment$doctor4,_appointment$doctor5;return/*#__PURE__*/_jsxs(\"div\",{className:\"table-row\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:formatDate(appointment.date)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:appointment.time})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"Dr. \",(_appointment$doctor4=appointment.doctor)===null||_appointment$doctor4===void 0?void 0:_appointment$doctor4.name]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:(_appointment$doctor5=appointment.doctor)===null||_appointment$doctor5===void 0?void 0:_appointment$doctor5.specialization})]}),/*#__PURE__*/_jsx(\"div\",{children:appointment.purpose}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:getStatusBadgeClass(appointment.status),children:appointment.status})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",title:\"View Details\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"})}),appointment.status==='Pending'&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon danger\",title:\"Cancel Appointment\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})]},appointment._id);})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-times fa-3x\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No Appointments Yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You haven't booked any appointments yet.\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn\",onClick:()=>navigate('/book-appointment'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-plus\"}),\" Book Your First Appointment\"]})]})]}),activeTab==='profile'&&/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-section active\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Profile\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"}),\" Edit Profile\"]})]}),patient&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-avatar\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user fa-2x\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:patient.fullName}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Patient ID: \",patient.patientId]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Member since \",new Date(patient.createdAt).toLocaleDateString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Personal Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(\"p\",{children:patient.fullName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Age\"}),/*#__PURE__*/_jsxs(\"p\",{children:[patient.age,\" years\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gender\"}),/*#__PURE__*/_jsx(\"p\",{children:patient.gender})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Blood Group\"}),/*#__PURE__*/_jsx(\"p\",{children:patient.bloodGroup||'Not specified'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Contact Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{children:(_patient$contact3=patient.contact)===null||_patient$contact3===void 0?void 0:_patient$contact3.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"p\",{children:(_patient$contact4=patient.contact)===null||_patient$contact4===void 0?void 0:_patient$contact4.phone})]}),patient.address&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"p\",{children:patient.address.street})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"City\"}),/*#__PURE__*/_jsx(\"p\",{children:patient.address.city})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"State\"}),/*#__PURE__*/_jsx(\"p\",{children:patient.address.state})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"ZIP Code\"}),/*#__PURE__*/_jsx(\"p\",{children:patient.address.zipCode})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Medical Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"p\",{children:patient.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Updated\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date(patient.updatedAt).toLocaleDateString()})]})]})]})]})]})]})]})]});};export default PatientDashboard;","map":{"version":3,"names":["React","useState","useEffect","useAuth","useNavigate","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PatientDashboard","_patient$contact","_patient$contact2","_patient$contact3","_patient$contact4","user","logout","navigate","patient","setPatient","appointments","setAppointments","loading","setLoading","activeTab","setActiveTab","fetchPatientData","fetchAppointments","response","get","data","error","console","handleLogout","formatDate","dateString","Date","toLocaleDateString","weekday","year","month","day","getAppointmentDateTime","appointment","datePart","date","toISOString","split","dt","concat","time","isNaN","getTime","e","getUpcomingAppointments","now","map","apt","_objectSpread","_appointmentDateTime","filter","status","sort","a","b","slice","getRecentAppointments","limit","arguments","length","undefined","getStatusBadgeClass","className","children","fullName","username","onClick","_appointment$doctor","_appointment$doctor2","doctor","name","specialization","purpose","_id","patientId","age","gender","bloodGroup","contact","phone","email","address","street","city","state","zipCode","window","print","_appointment$doctor3","_appointment$doctor4","_appointment$doctor5","title","createdAt","updatedAt"],"sources":["C:/Users/Neerush Buchi/Desktop/Neerush Folder/HMS/frontend/src/pages/PatientDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../services/api';\r\n\r\nconst PatientDashboard = () => {\r\n  const { user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [patient, setPatient] = useState(null);\r\n  const [appointments, setAppointments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    fetchPatientData();\r\n    fetchAppointments();\r\n  }, [user, navigate]);\r\n\r\n  const fetchPatientData = async () => {\r\n    try {\r\n      const response = await api.get('/patients/profile/me');\r\n      setPatient(response.data.data.patient);\r\n    } catch (error) {\r\n      console.error('Error fetching patient data:', error);\r\n    }\r\n  };\r\n\r\n  const fetchAppointments = async () => {\r\n    try {\r\n      const response = await api.get('/appointments/my-appointments');\r\n      setAppointments(response.data.data.appointments);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching appointments:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/');\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      weekday: 'short',\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  // Create a Date object that represents the appointment's scheduled datetime\r\n  const getAppointmentDateTime = (appointment) => {\r\n    // appointment.date is usually an ISO date string (date-only or with time)\r\n    // appointment.time is stored as a string (could be \"HH:MM\" or include AM/PM)\r\n    try {\r\n      const datePart = (new Date(appointment.date)).toISOString().split('T')[0];\r\n\r\n      // Try to construct an ISO-like datetime first (handles \"HH:MM\" or \"HH:MM:SS\")\r\n      let dt = new Date(`${datePart}T${appointment.time}`);\r\n      if (!isNaN(dt.getTime())) return dt;\r\n\r\n      // Fallback: try combining with a space (handles formats like \"10:30 AM\")\r\n      dt = new Date(`${datePart} ${appointment.time}`);\r\n      if (!isNaN(dt.getTime())) return dt;\r\n\r\n      // Final fallback: use the date only (midnight)\r\n      return new Date(appointment.date);\r\n    } catch (e) {\r\n      return new Date(appointment.date);\r\n    }\r\n  };\r\n\r\n  const getUpcomingAppointments = () => {\r\n    const now = new Date();\r\n    return appointments\r\n      .map(apt => ({ ...apt, _appointmentDateTime: getAppointmentDateTime(apt) }))\r\n      .filter(apt => apt._appointmentDateTime > now && apt.status !== 'Cancelled')\r\n      .sort((a, b) => a._appointmentDateTime - b._appointmentDateTime)\r\n      .slice(0, 3);\r\n  };\r\n\r\n  const getRecentAppointments = (limit = 5) => {\r\n    const now = new Date();\r\n    return appointments\r\n      .map(apt => ({ ...apt, _appointmentDateTime: getAppointmentDateTime(apt) }))\r\n      .filter(apt => apt._appointmentDateTime <= now)\r\n      .sort((a, b) => b._appointmentDateTime - a._appointmentDateTime)\r\n      .slice(0, limit);\r\n  };\r\n\r\n  const getStatusBadgeClass = (status) => {\r\n    switch (status) {\r\n      case 'Confirmed':\r\n        return 'status-badge confirmed';\r\n      case 'Pending':\r\n        return 'status-badge pending';\r\n      case 'Completed':\r\n        return 'status-badge completed';\r\n      case 'Cancelled':\r\n        return 'status-badge cancelled';\r\n      default:\r\n        return 'status-badge pending';\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"loading-state\">\r\n          <i className=\"fas fa-spinner fa-spin fa-2x\"></i>\r\n          <p>Loading your dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {/* Dashboard Header */}\r\n      <div className=\"dashboard-header\">\r\n        <div>\r\n          <h1>Welcome, <span>{patient?.fullName || user?.username}</span></h1>\r\n          <p>Here's your health dashboard and upcoming appointments</p>\r\n        </div>\r\n        <div className=\"dashboard-actions\">\r\n          <button \r\n            className=\"btn\"\r\n            onClick={() => navigate('/book-appointment')}\r\n          >\r\n            <i className=\"fas fa-calendar-plus\"></i> Book Appointment\r\n          </button>\r\n          <button \r\n            className=\"btn btn-outline ml-2\"\r\n            onClick={() => navigate('/billing')}\r\n          >\r\n            <i className=\"fas fa-file-invoice-dollar\"></i> View Bills\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Dashboard Navigation Tabs */}\r\n      <div className=\"dashboard-sections\">\r\n        <button \r\n          className={`section-btn ${activeTab === 'overview' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('overview')}\r\n        >\r\n          <i className=\"fas fa-home\"></i> Overview\r\n        </button>\r\n        <button \r\n          className={`section-btn ${activeTab === 'appointments' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('appointments')}\r\n        >\r\n          <i className=\"fas fa-calendar-alt\"></i> Appointments\r\n        </button>\r\n        <button \r\n          className={`section-btn ${activeTab === 'profile' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('profile')}\r\n        >\r\n          <i className=\"fas fa-user\"></i> Profile\r\n        </button>\r\n      </div>\r\n\r\n      {/* Dashboard Content */}\r\n      <div className=\"dashboard-content\">\r\n        \r\n        {/* Overview Tab */}\r\n        {activeTab === 'overview' && (\r\n          <div className=\"dashboard-section active\">\r\n            <div className=\"dashboard-grid\">\r\n              \r\n              {/* Upcoming Appointments Card */}\r\n              <div className=\"dashboard-card\">\r\n                <h2><i className=\"fas fa-calendar-check\"></i> Upcoming Appointments</h2>\r\n                <div className=\"appointment-list\">\r\n                  {getUpcomingAppointments().length > 0 ? (\r\n                    getUpcomingAppointments().map(appointment => (\r\n                      <div key={appointment._id} className=\"appointment-item\">\r\n                        <div className=\"appointment-time\">\r\n                          {formatDate(appointment.date)}\r\n                          <br />\r\n                          <small>{appointment.time}</small>\r\n                        </div>\r\n                        <div className=\"appointment-details\">\r\n                          <h3>Dr. {appointment.doctor?.name}</h3>\r\n                          <p>{appointment.doctor?.specialization}</p>\r\n                          <p className=\"appointment-purpose\">{appointment.purpose}</p>\r\n                          <span className={getStatusBadgeClass(appointment.status)}>\r\n                            {appointment.status}\r\n                          </span>\r\n                        </div>\r\n                        <button className=\"btn btn-outline btn-sm\">\r\n                          View Details\r\n                        </button>\r\n                      </div>\r\n                    ))\r\n                  ) : (\r\n                    <div className=\"empty-appointments\">\r\n                      <i className=\"fas fa-calendar-times\"></i>\r\n                      <p>No upcoming appointments</p>\r\n                      <button \r\n                        className=\"btn btn-sm\"\r\n                        onClick={() => navigate('/book-appointment')}\r\n                      >\r\n                        Book Your First Appointment\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Patient Information Card */}\r\n              <div className=\"dashboard-card\">\r\n                <h2><i className=\"fas fa-user-injured\"></i> Patient Information</h2>\r\n                {patient && (\r\n                  <div className=\"patient-info-details\">\r\n                    <div className=\"info-row\">\r\n                      <span className=\"info-label\">Patient ID:</span>\r\n                      <span className=\"info-value\">{patient.patientId}</span>\r\n                    </div>\r\n                    <div className=\"info-row\">\r\n                      <span className=\"info-label\">Full Name:</span>\r\n                      <span className=\"info-value\">{patient.fullName}</span>\r\n                    </div>\r\n                    <div className=\"info-row\">\r\n                      <span className=\"info-label\">Age:</span>\r\n                      <span className=\"info-value\">{patient.age} years</span>\r\n                    </div>\r\n                    <div className=\"info-row\">\r\n                      <span className=\"info-label\">Gender:</span>\r\n                      <span className=\"info-value\">{patient.gender}</span>\r\n                    </div>\r\n                    <div className=\"info-row\">\r\n                      <span className=\"info-label\">Blood Group:</span>\r\n                      <span className=\"info-value\">{patient.bloodGroup || 'Not specified'}</span>\r\n                    </div>\r\n                    <div className=\"info-row\">\r\n                      <span className=\"info-label\">Phone:</span>\r\n                      <span className=\"info-value\">{patient.contact?.phone}</span>\r\n                    </div>\r\n                    <div className=\"info-row\">\r\n                      <span className=\"info-label\">Email:</span>\r\n                      <span className=\"info-value\">{patient.contact?.email}</span>\r\n                    </div>\r\n                    {patient.address && (\r\n                      <div className=\"info-row\">\r\n                        <span className=\"info-label\">Address:</span>\r\n                        <span className=\"info-value\">\r\n                          {patient.address.street}, {patient.address.city}, {patient.address.state} {patient.address.zipCode}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                <button \r\n                  className=\"btn btn-outline mt-3\"\r\n                  onClick={() => setActiveTab('profile')}\r\n                >\r\n                  <i className=\"fas fa-edit\"></i> Update Profile\r\n                </button>\r\n              </div>\r\n\r\n              {/* Quick Actions Card */}\r\n              <div className=\"dashboard-card\">\r\n                <h2><i className=\"fas fa-bolt\"></i> Quick Actions</h2>\r\n                <div className=\"quick-actions-grid\">\r\n                  <button \r\n                    className=\"quick-action-btn\"\r\n                    onClick={() => navigate('/book-appointment')}\r\n                  >\r\n                    <i className=\"fas fa-calendar-plus\"></i>\r\n                    <span>Book Appointment</span>\r\n                  </button>\r\n                  <button \r\n                    className=\"quick-action-btn\"\r\n                    onClick={() => navigate('/billing')}\r\n                  >\r\n                    <i className=\"fas fa-file-invoice\"></i>\r\n                    <span>View Bills</span>\r\n                  </button>\r\n                  <button \r\n                    className=\"quick-action-btn\"\r\n                    onClick={() => setActiveTab('profile')}\r\n                  >\r\n                    <i className=\"fas fa-user-edit\"></i>\r\n                    <span>Update Profile</span>\r\n                  </button>\r\n                  <button \r\n                    className=\"quick-action-btn\"\r\n                    onClick={() => window.print()}\r\n                  >\r\n                    <i className=\"fas fa-print\"></i>\r\n                    <span>Print Records</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Recent Activity Card */}\r\n              <div className=\"dashboard-card\">\r\n                <h2><i className=\"fas fa-history\"></i> Recent Activity</h2>\r\n                <div className=\"activity-list\">\r\n                  {getRecentAppointments().length > 0 ? (\r\n                    getRecentAppointments().map(appointment => (\r\n                      <div key={appointment._id} className=\"activity-item\">\r\n                        <div className=\"activity-icon\">\r\n                          <i className=\"fas fa-calendar\"></i>\r\n                        </div>\r\n                        <div className=\"activity-content\">\r\n                          <p>\r\n                            <strong>{appointment.purpose}</strong> with Dr. {appointment.doctor?.name}\r\n                          </p>\r\n                          <small>\r\n                            {formatDate(appointment._appointmentDateTime || appointment.date)} at {appointment.time} • \r\n                            <span className={getStatusBadgeClass(appointment.status)}>\r\n                              {appointment.status}\r\n                            </span>\r\n                          </small>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  ) : (\r\n                    <div className=\"empty-activity\">\r\n                      <i className=\"fas fa-clock\"></i>\r\n                      <p>No recent activity</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Appointments Tab */}\r\n        {activeTab === 'appointments' && (\r\n          <div className=\"dashboard-section active\">\r\n            <div className=\"section-header\">\r\n              <h2>My Appointments</h2>\r\n              <button \r\n                className=\"btn\"\r\n                onClick={() => navigate('/book-appointment')}\r\n              >\r\n                <i className=\"fas fa-plus\"></i> New Appointment\r\n              </button>\r\n            </div>\r\n            \r\n            {appointments.length > 0 ? (\r\n              <div className=\"appointments-table\">\r\n                <div className=\"table-header\">\r\n                  <div>Date & Time</div>\r\n                  <div>Doctor</div>\r\n                  <div>Purpose</div>\r\n                  <div>Status</div>\r\n                  <div>Actions</div>\r\n                </div>\r\n                {appointments.map(appointment => (\r\n                  <div key={appointment._id} className=\"table-row\">\r\n                    <div>\r\n                      <strong>{formatDate(appointment.date)}</strong>\r\n                      <br />\r\n                      <small>{appointment.time}</small>\r\n                    </div>\r\n                    <div>\r\n                      <strong>Dr. {appointment.doctor?.name}</strong>\r\n                      <br />\r\n                      <small>{appointment.doctor?.specialization}</small>\r\n                    </div>\r\n                    <div>{appointment.purpose}</div>\r\n                    <div>\r\n                      <span className={getStatusBadgeClass(appointment.status)}>\r\n                        {appointment.status}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <button className=\"btn-icon\" title=\"View Details\">\r\n                        <i className=\"fas fa-eye\"></i>\r\n                      </button>\r\n                      {appointment.status === 'Pending' && (\r\n                        <button className=\"btn-icon danger\" title=\"Cancel Appointment\">\r\n                          <i className=\"fas fa-times\"></i>\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"empty-state\">\r\n                <i className=\"fas fa-calendar-times fa-3x\"></i>\r\n                <h3>No Appointments Yet</h3>\r\n                <p>You haven't booked any appointments yet.</p>\r\n                <button \r\n                  className=\"btn\"\r\n                  onClick={() => navigate('/book-appointment')}\r\n                >\r\n                  <i className=\"fas fa-calendar-plus\"></i> Book Your First Appointment\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Profile Tab */}\r\n        {activeTab === 'profile' && (\r\n          <div className=\"dashboard-section active\">\r\n            <div className=\"section-header\">\r\n              <h2>My Profile</h2>\r\n              <button className=\"btn btn-outline\">\r\n                <i className=\"fas fa-edit\"></i> Edit Profile\r\n              </button>\r\n            </div>\r\n            \r\n            {patient && (\r\n              <div className=\"profile-card\">\r\n                <div className=\"profile-header\">\r\n                  <div className=\"profile-avatar\">\r\n                    <i className=\"fas fa-user fa-2x\"></i>\r\n                  </div>\r\n                  <div className=\"profile-info\">\r\n                    <h3>{patient.fullName}</h3>\r\n                    <p>Patient ID: {patient.patientId}</p>\r\n                    <p>Member since {new Date(patient.createdAt).toLocaleDateString()}</p>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"profile-details\">\r\n                  <div className=\"detail-section\">\r\n                    <h4>Personal Information</h4>\r\n                    <div className=\"details-grid\">\r\n                      <div className=\"detail-item\">\r\n                        <label>Full Name</label>\r\n                        <p>{patient.fullName}</p>\r\n                      </div>\r\n                      <div className=\"detail-item\">\r\n                        <label>Age</label>\r\n                        <p>{patient.age} years</p>\r\n                      </div>\r\n                      <div className=\"detail-item\">\r\n                        <label>Gender</label>\r\n                        <p>{patient.gender}</p>\r\n                      </div>\r\n                      <div className=\"detail-item\">\r\n                        <label>Blood Group</label>\r\n                        <p>{patient.bloodGroup || 'Not specified'}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"detail-section\">\r\n                    <h4>Contact Information</h4>\r\n                    <div className=\"details-grid\">\r\n                      <div className=\"detail-item\">\r\n                        <label>Email</label>\r\n                        <p>{patient.contact?.email}</p>\r\n                      </div>\r\n                      <div className=\"detail-item\">\r\n                        <label>Phone</label>\r\n                        <p>{patient.contact?.phone}</p>\r\n                      </div>\r\n                      {patient.address && (\r\n                        <>\r\n                          <div className=\"detail-item\">\r\n                            <label>Address</label>\r\n                            <p>{patient.address.street}</p>\r\n                          </div>\r\n                          <div className=\"detail-item\">\r\n                            <label>City</label>\r\n                            <p>{patient.address.city}</p>\r\n                          </div>\r\n                          <div className=\"detail-item\">\r\n                            <label>State</label>\r\n                            <p>{patient.address.state}</p>\r\n                          </div>\r\n                          <div className=\"detail-item\">\r\n                            <label>ZIP Code</label>\r\n                            <p>{patient.address.zipCode}</p>\r\n                          </div>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"detail-section\">\r\n                    <h4>Medical Information</h4>\r\n                    <div className=\"details-grid\">\r\n                      <div className=\"detail-item\">\r\n                        <label>Status</label>\r\n                        <p>{patient.status}</p>\r\n                      </div>\r\n                      <div className=\"detail-item\">\r\n                        <label>Last Updated</label>\r\n                        <p>{new Date(patient.updatedAt).toLocaleDateString()}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}